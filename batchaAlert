 public void onItemClick(AdapterView<?> arg0, View v, final int pos, long arg3) {
                                if (batchList.get(pos).n_batch_block_flag.equalsIgnoreCase("1")) {
                                    makeAlertDialog("Attention", "This Batch Is Not Allowed To Pick", true).show();
                                    return;
                                }
//                               Parul
                                if(batchList.get(pos).batch_flag.equalsIgnoreCase("1")) {
                                    AlertDialog.Builder builder = new AlertDialog.Builder(actContext);
                                    builder.setTitle("Attention");
                                    builder.setIcon(R.drawable.info_light);
                                    builder.setMessage("This Is Not Invoiced Batch. Want to Continue ?").setPositiveButton("Yes", new DialogInterface.OnClickListener() {
                                        @Override
                                        public void onClick(DialogInterface dialog, int which)
                                        {
                                            ws.appendLog("batch item clicked");
                                            AlertDialog.Builder adBuilder = new AlertDialog.Builder(actContext);

                                            if (pos >= 0) {
                                                posforBatch = pos;
                                            }
                                            LayoutInflater li = getLayoutInflater();

                                            View qtyDlg = null;
                                            if (App.getSizeName(StoreOut.this).equals("normal")) {
                                                qtyDlg = li.inflate(R.layout.lyt_batch_qty_entry_mobile_view, null);
                                            } else
                                                qtyDlg = li.inflate(R.layout.lyt_batch_qty_entry, null);

                                            //Qty Dialog Edittext
                                            final EditText txtQty = qtyDlg.findViewById(R.id.txt_qty);

                                            ((TextView) qtyDlg.findViewById(R.id.tv_batch)).setText(batchList.get(pos).batchNo);
                                            ((TextView) qtyDlg.findViewById(R.id.tv_MRP)).setText(batchList.get(pos).mrp);
                                            ((TextView) qtyDlg.findViewById(R.id.tv_stk)).setText(batchList.get(pos).phyQty + "");
                                            ((TextView) qtyDlg.findViewById(R.id.tv_pend_qty)).setText(tvPendQty.getText());
                                            ImageView ibMinus = qtyDlg.findViewById(R.id.ibMinus);
                                            ImageView ibPlus = qtyDlg.findViewById(R.id.ibPlus);
                                            if (docList.size() > 0 && docList.get(0).firstInStage == 1) {
                                                ibMinus.setVisibility(View.VISIBLE);
                                                ibPlus.setVisibility(View.VISIBLE);
                                            }

                                            txtQty.addTextChangedListener(new TextWatcher() {
                                                @Override
                                                public void onTextChanged(CharSequence s, int start, int before, int count) {
                                                }

                                                @Override
                                                public void beforeTextChanged(CharSequence s, int start, int count, int after) {
                                                }

                                                @Override
                                                public void afterTextChanged(Editable s) {
                                                    if (batchList.size() <= 0) return;
                                                    if (parseInteger(s.toString()) > batchList.get(pos).avlQty)
                                                        txtQty.setTextColor(
                                                                getResources().getColor(android.R.color.holo_red_light));
                                                    else
                                                        txtQty.setTextColor(
                                                                getResources().getColor(android.R.color.primary_text_light));
                                                }
                                            });

                                            String existingQty = batchList.get(pos).qty == 0 ? "" : batchList.get(pos).qty + "";

                                            if (existingQty.length() == 0) {
                                                if (parseInteger(tvPendQty.getText().toString()) <= batchList.get(pos).avlQty)
                                                    existingQty = tvPendQty.getText().toString();
                                                else
                                                    existingQty = batchList.get(pos).avlQty + "";

                                            }
                                            boolean isDummyItem = docDet1.size() == 1 && docDet1.get(0).nonPickFlag == 1;
                                            try {
                                                txtQty.setText(isDummyItem ? String.valueOf(1) : existingQty);
                                            } catch (Exception e) {
                                                e.printStackTrace();
                                                Toast.makeText(actContext, "not able to select auto qty", Toast.LENGTH_SHORT)
                                                        .show();
                                            }
                                            txtQty.setSelection(0, txtQty.getText().length());

                                            ibMinus.setOnClickListener(new OnClickListener() {

                                                @Override
                                                public void onClick(View v) {

                                                    if (txtQty.getText().toString().isEmpty()
                                                            || Integer.parseInt(txtQty.getText().toString()) == 1)
                                                        return;
                                                    int qty = Integer.parseInt(txtQty.getText().toString()) - 1;
                                                    txtQty.setText(String.valueOf(qty));
                                                }
                                            });
                                            ibPlus.setOnClickListener(new OnClickListener() {

                                                @Override
                                                public void onClick(View v) {

                                                    int qty = Integer.parseInt(txtQty.getText().toString()) + 1;
                                                    txtQty.setText(String.valueOf(qty));
                                                }
                                            });

                                            adBuilder.setView(qtyDlg);
                                            adBuilder.setNeutralButton("OK", null);
                                            adBuilder.setPositiveButton("DONE", null);

                                            final AlertDialog qtyDialog = adBuilder.create();
                                            LayoutParams WMLP = qtyDialog.getWindow().getAttributes();
                                            WMLP.gravity = Gravity.CENTER;
                                            qtyDialog.getWindow().setAttributes(WMLP);
                                            qtyDialog.show();

                                            /////////////////////////////////////////////////////////////////////////////

                                            //Qty Dialog Ok Button
                                            final Button btnOK = qtyDialog.getButton(DialogInterface.BUTTON_NEUTRAL);
                                            btnOK.setOnClickListener(new OnClickListener() {
                                                @Override
                                                public void onClick(View v) {
                                                    ws.appendLog("qty dialog btn ok clicked");
                                                    if (docDet1.size() == 0) {
                                                        qtyDialog.dismiss();
                                                        return;
                                                    }

                                                    if (App.isExcessQtyAllowed == 0) {
                                                        if (parseInteger(txtQty.getText().toString()) > docDet1.get(detListPos).pendQty) {
                                                            new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                                    .setIcon(R.drawable.warning_light)
                                                                    .setMessage("Entered Qty Is more than Pending Qty to Pick : "
                                                                            + docDet1.get(detListPos).pendQty)
                                                                    .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                                        @Override
                                                                        public void onClick(DialogInterface dialog, int which) {
                                                                            txtQty.requestFocus();
                                                                            txtQty.setSelection(0, txtQty.getText().length());
                                                                        }
                                                                    }).show();
                                                            return;
                                                        }
                                                    }

                                                    if (/*App.isExcessQtyAllowed == 0 &&*/ batchList.size() > 0 && parseInteger(txtQty.getText().toString()) > batchList.get(pos).avlQty) {
                                                        new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                                .setIcon(R.drawable.warning_light)
                                                                .setMessage("Entered Qty is more than Available Batch Qty "
                                                                        + batchList.get(pos).avlQty)
                                                                .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                                    @Override
                                                                    public void onClick(DialogInterface dialog, int which) {
                                                                        txtQty.requestFocus();
                                                                        txtQty.setSelection(0, txtQty.getText().length());
                                                                    }
                                                                }).show();
                                                        return;
                                                    }

                                                    if (itemHasBatch) {
                                                        if (!batchList.get(pos).batchNo.equalsIgnoreCase(docDet1.get(detListPos).batch.batchNo)) {
                                                            int allowedQty = batchList.get(pos).avlStock;
                                                            for (int i = 0; i < docDet2.size(); i++) {

                                                                if (docDet2.get(i).batch.batchNo.equalsIgnoreCase(batchList.get(pos).batchNo)) {
                                                                    if ((allowedQty - docDet2.get(i).batch.qty) > 0)
                                                                        allowedQty -= docDet2.get(i).batch.qty;
                                                                }
                                                            }

                                                            if (parseInteger(txtQty.getText().toString()) > allowedQty) {
                                                                new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                                        .setIcon(R.drawable.warning_light).setIcon(R.drawable.warning_light)
                                                                        .setMessage("Max allowed qty to pick is " + allowedQty)
                                                                        .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                                            @Override
                                                                            public void onClick(DialogInterface dialog, int which) {
                                                                                dialog.dismiss();
                                                                            }
                                                                        }).show();
                                                                return;
                                                            }
                                                        }
                                                    }
                                                    //showReasonForBatchList(detListPos, selectedBatchList, currentBatchList.get(0).batchNo, selectedBatchList.get(0).batchNo);

                                                    batchList.get(pos).qty = parseInteger(txtQty.getText().toString());
                                                    bAdap.notifyDataSetChanged();
                                                    hideKeyboard(txtQty);
                                                    qtyDialog.dismiss();
                                                    updateSelQtyView(tvPendQty, tvSelQty, docDet1.get(detListPos).pendQty,
                                                            getSelQty(batchList), docDet1.get(detListPos).extraQtyAllowedQty, 5);

                                                }
                                            });
/////////////////////////////////////////////////////////////////////////////
                                            //qty dialog done btn
                                            final Button btnQtyDone = qtyDialog.getButton(DialogInterface.BUTTON_POSITIVE);
                                            btnQtyDone.setOnClickListener(new OnClickListener() {
                                                @Override
                                                public void onClick(View v) {
                                                    ws.appendLog("qty dialog btnDone2 clicked");

                                                    if (App.isExcessQtyAllowed == 0) {
                                                        if (parseInteger(txtQty.getText().toString()) > docDet1.get(detListPos).pendQty) {
                                                            new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                                    .setIcon(R.drawable.warning_light)
                                                                    .setMessage("Entered Qty is More than Pending Qty to Pick : "
                                                                            + docDet1.get(detListPos).pendQty)
                                                                    .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                                        @Override
                                                                        public void onClick(DialogInterface dialog, int which) {
                                                                            txtQty.requestFocus();
                                                                            txtQty.setSelection(0, txtQty.getText().length());
                                                                        }
                                                                    }).show();
                                                            return;
                                                        }
                                                    }

                                                    if (/*App.isExcessQtyAllowed == 0 && */batchList.size() > 0
                                                            && parseInteger(txtQty.getText().toString()) > batchList.get(pos).avlQty) {
                                                        new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                                .setIcon(R.drawable.warning_light).setIcon(R.drawable.warning_light)
                                                                .setMessage("Entered Qty is more than Available Batch Qty " + batchList.get(pos).avlQty)
                                                                .setPositiveButton("OK", new DialogInterface.OnClickListener() {
                                                                    @Override
                                                                    public void onClick(DialogInterface dialog, int which) {
                                                                        txtQty.requestFocus();
                                                                        txtQty.setSelection(0, txtQty.getText().length());
                                                                    }
                                                                }).show();
                                                        return;
                                                    }

                                                    try {
                                                        if (itemHasBatch) {
                                                            if (!batchList.get(pos).batchNo.equalsIgnoreCase(docDet1.get(detListPos).batch.batchNo)) {
                                                                int allowedQty = batchList.get(pos).avlStock;
                                                                for (int i = 0; i < docDet2.size(); i++) {

                                                                    if (docDet2.get(i).batch.batchNo.equalsIgnoreCase(batchList.get(pos).batchNo)) {
                                                                        if ((allowedQty - docDet2.get(i).batch.qty) > 0)
                                                                            allowedQty -= docDet2.get(i).batch.qty;
                                                                    }
                                                                }

                                                                if (parseInteger(txtQty.getText().toString()) > allowedQty) {
                                                                    new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                                            .setIcon(R.drawable.warning_light).setIcon(R.drawable.warning_light)
                                                                            .setMessage("Max allowed qty to pick is " + allowedQty)
                                                                            .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                                                @Override
                                                                                public void onClick(DialogInterface dialog, int which) {
                                                                                    dialog.dismiss();
                                                                                }
                                                                            }).show();
                                                                    return;
                                                                }
                                                            }
                                                        }

                                                        batchList.get(pos).qty = parseInteger(txtQty.getText().toString());
                                                        bAdap.notifyDataSetChanged();
                                                        hideKeyboard(txtQty);
                                                        qtyDialog.dismiss();
                                                        updateSelQtyView(tvPendQty, tvSelQty, docDet1.get(detListPos).pendQty,
                                                                getSelQty(batchList), docDet1.get(detListPos).extraQtyAllowedQty, 6);

                                                    } catch (Exception e) {
                                                        e.printStackTrace();
                                                    }

                                                    btnDone.performClick();
                                                }
                                            });

                                            txtQty.setOnEditorActionListener(new OnEditorActionListener() {
                                                @Override
                                                public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
                                                    ws.appendLog("qty dialog qty edit text value is changing");
                                                    btnOK.performClick();
                                                    return false;
                                                }
                                            });
                                            if (isDummyItem) {
                                                ws.appendLog("Item is dummy.So selecting qty 1 by default.");
                                                btnQtyDone.performClick();
                                            }
                                        }
                                    })
                                            .setNegativeButton("No", new DialogInterface.OnClickListener() {
                                                @Override
                                                public void onClick(DialogInterface dialog, int which) {
                                                    dialog.cancel();
                                                }
                                            }).show();
                                    return;
                                }

                                ws.appendLog("batch item clicked");
                                AlertDialog.Builder adBuilder = new AlertDialog.Builder(actContext);
                                // adBuilder.setTitle("Batch No. " +
                                // batchList.get(pos).batchNo + " MRP:" +
                                // batchList.get(pos).mrp + " STK:" +
                                // batchList.get(pos).balQty + " Pend.Qty:" +
                                // tvPendQty.getText());
                                if (pos >= 0) {
                                    posforBatch = pos;
                                }
                                LayoutInflater li = getLayoutInflater();

                                View qtyDlg = null;
                                if (App.getSizeName(StoreOut.this).equals("normal")) {
                                    qtyDlg = li.inflate(R.layout.lyt_batch_qty_entry_mobile_view, null);
                                } else
                                    qtyDlg = li.inflate(R.layout.lyt_batch_qty_entry, null);

                                //Qty Dialog Edittext
                                final EditText txtQty = qtyDlg.findViewById(R.id.txt_qty);

                                ((TextView) qtyDlg.findViewById(R.id.tv_batch)).setText(batchList.get(pos).batchNo);
                                ((TextView) qtyDlg.findViewById(R.id.tv_MRP)).setText(batchList.get(pos).mrp);
                                ((TextView) qtyDlg.findViewById(R.id.tv_stk)).setText(batchList.get(pos).phyQty + "");
                                ((TextView) qtyDlg.findViewById(R.id.tv_pend_qty)).setText(tvPendQty.getText());
                                ImageView ibMinus = qtyDlg.findViewById(R.id.ibMinus);
                                ImageView ibPlus = qtyDlg.findViewById(R.id.ibPlus);
                                if (docList.size() > 0 && docList.get(0).firstInStage == 1) {
                                    ibMinus.setVisibility(View.VISIBLE);
                                    ibPlus.setVisibility(View.VISIBLE);
                                }

                                txtQty.addTextChangedListener(new TextWatcher() {
                                    @Override
                                    public void onTextChanged(CharSequence s, int start, int before, int count) {
                                    }

                                    @Override
                                    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
                                    }

                                    @Override
                                    public void afterTextChanged(Editable s) {
                                        if (batchList.size() <= 0) return;
                                        if (parseInteger(s.toString()) > batchList.get(pos).avlQty)
                                            txtQty.setTextColor(
                                                    getResources().getColor(android.R.color.holo_red_light));
                                        else
                                            txtQty.setTextColor(
                                                    getResources().getColor(android.R.color.primary_text_light));
                                    }
                                });

                                String existingQty = batchList.get(pos).qty == 0 ? "" : batchList.get(pos).qty + "";

                                if (existingQty.length() == 0) {
                                    if (parseInteger(tvPendQty.getText().toString()) <= batchList.get(pos).avlQty)
                                        existingQty = tvPendQty.getText().toString();
                                    else
                                        existingQty = batchList.get(pos).avlQty + "";

                                }
                                boolean isDummyItem = docDet1.size() == 1 && docDet1.get(0).nonPickFlag == 1;
                                try {
                                    txtQty.setText(isDummyItem ? String.valueOf(1) : existingQty);
                                } catch (Exception e) {
                                    e.printStackTrace();
                                    Toast.makeText(actContext, "not able to select auto qty", Toast.LENGTH_SHORT)
                                            .show();
                                }
                                txtQty.setSelection(0, txtQty.getText().length());

                                ibMinus.setOnClickListener(new OnClickListener() {

                                    @Override
                                    public void onClick(View v) {

                                        if (txtQty.getText().toString().isEmpty()
                                                || Integer.parseInt(txtQty.getText().toString()) == 1)
                                            return;
                                        int qty = Integer.parseInt(txtQty.getText().toString()) - 1;
                                        txtQty.setText(String.valueOf(qty));
                                    }
                                });
                                ibPlus.setOnClickListener(new OnClickListener() {

                                    @Override
                                    public void onClick(View v) {

                                        int qty = Integer.parseInt(txtQty.getText().toString()) + 1;
                                        txtQty.setText(String.valueOf(qty));
                                    }
                                });

                                adBuilder.setView(qtyDlg);
                                adBuilder.setNeutralButton("OK", null);
                                adBuilder.setPositiveButton("DONE", null);

                                final AlertDialog qtyDialog = adBuilder.create();
                                LayoutParams WMLP = qtyDialog.getWindow().getAttributes();
                                WMLP.gravity = Gravity.CENTER;
                                qtyDialog.getWindow().setAttributes(WMLP);
                                qtyDialog.show();

                                /////////////////////////////////////////////////////////////////////////////

                                //Qty Dialog Ok Button
                                final Button btnOK = qtyDialog.getButton(DialogInterface.BUTTON_NEUTRAL);
                                btnOK.setOnClickListener(new OnClickListener() {
                                    @Override
                                    public void onClick(View v) {
                                        ws.appendLog("qty dialog btn ok clicked");
                                        if (docDet1.size() == 0) {
                                            qtyDialog.dismiss();
                                            return;
                                        }

                                        if (App.isExcessQtyAllowed == 0) {
                                            if (parseInteger(txtQty.getText().toString()) > docDet1.get(detListPos).pendQty) {
                                                new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                        .setIcon(R.drawable.warning_light)
                                                        .setMessage("Entered Qty Is more than Pending Qty to Pick : "
                                                                + docDet1.get(detListPos).pendQty)
                                                        .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                            @Override
                                                            public void onClick(DialogInterface dialog, int which) {
                                                                txtQty.requestFocus();
                                                                txtQty.setSelection(0, txtQty.getText().length());
                                                            }
                                                        }).show();
                                                return;
                                            }
                                        }

                                        if (/*App.isExcessQtyAllowed == 0 &&*/ batchList.size() > 0 && parseInteger(txtQty.getText().toString()) > batchList.get(pos).avlQty) {
                                            new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                    .setIcon(R.drawable.warning_light)
                                                    .setMessage("Entered Qty is more than Available Batch Qty "
                                                            + batchList.get(pos).avlQty)
                                                    .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                        @Override
                                                        public void onClick(DialogInterface dialog, int which) {
                                                            txtQty.requestFocus();
                                                            txtQty.setSelection(0, txtQty.getText().length());
                                                        }
                                                    }).show();
                                            return;
                                        } /*else {
                                            Toast.makeText(StoreOut.this, "No Batch", Toast.LENGTH_SHORT).show();
                                        }*/

                                        if (itemHasBatch) {
                                            if (!batchList.get(pos).batchNo.equalsIgnoreCase(docDet1.get(detListPos).batch.batchNo)) {
                                                int allowedQty = batchList.get(pos).avlStock;
                                                for (int i = 0; i < docDet2.size(); i++) {

                                                    if (docDet2.get(i).batch.batchNo.equalsIgnoreCase(batchList.get(pos).batchNo)) {
                                                        if ((allowedQty - docDet2.get(i).batch.qty) > 0)
                                                            allowedQty -= docDet2.get(i).batch.qty;
                                                    }
                                                }

                                                if (parseInteger(txtQty.getText().toString()) > allowedQty) {
                                                    new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                            .setIcon(R.drawable.warning_light).setIcon(R.drawable.warning_light)
                                                            .setMessage("Max allowed qty to pick is " + allowedQty)
                                                            .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                                @Override
                                                                public void onClick(DialogInterface dialog, int which) {
                                                                    dialog.dismiss();
                                                                }
                                                            }).show();
                                                    return;
                                                }
                                            }
                                        }
                                        //showReasonForBatchList(detListPos, selectedBatchList, currentBatchList.get(0).batchNo, selectedBatchList.get(0).batchNo);

                                        batchList.get(pos).qty = parseInteger(txtQty.getText().toString());
                                        bAdap.notifyDataSetChanged();
                                        hideKeyboard(txtQty);
                                        qtyDialog.dismiss();
                                        updateSelQtyView(tvPendQty, tvSelQty, docDet1.get(detListPos).pendQty,
                                                getSelQty(batchList), docDet1.get(detListPos).extraQtyAllowedQty, 5);

                                    }
                                });
/////////////////////////////////////////////////////////////////////////////
                                //qty dialog done btn
                                final Button btnQtyDone = qtyDialog.getButton(DialogInterface.BUTTON_POSITIVE);
                                btnQtyDone.setOnClickListener(new OnClickListener() {
                                    @Override
                                    public void onClick(View v) {
                                        ws.appendLog("qty dialog btnDone2 clicked");

                                        if (App.isExcessQtyAllowed == 0) {
                                            if (parseInteger(txtQty.getText().toString()) > docDet1.get(detListPos).pendQty) {
                                                new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                        .setIcon(R.drawable.warning_light)
                                                        .setMessage("Entered Qty is More than Pending Qty to Pick : "
                                                                + docDet1.get(detListPos).pendQty)
                                                        .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                            @Override
                                                            public void onClick(DialogInterface dialog, int which) {
                                                                txtQty.requestFocus();
                                                                txtQty.setSelection(0, txtQty.getText().length());
                                                            }
                                                        }).show();
                                                return;
                                            }
                                        }

                                        if (/*App.isExcessQtyAllowed == 0 && */batchList.size() > 0
                                                && parseInteger(txtQty.getText().toString()) > batchList.get(pos).avlQty) {
                                            new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                    .setIcon(R.drawable.warning_light).setIcon(R.drawable.warning_light)
                                                    .setMessage("Entered Qty is more than Available Batch Qty " + batchList.get(pos).avlQty)
                                                    .setPositiveButton("OK", new DialogInterface.OnClickListener() {
                                                        @Override
                                                        public void onClick(DialogInterface dialog, int which) {
                                                            txtQty.requestFocus();
                                                            txtQty.setSelection(0, txtQty.getText().length());
                                                        }
                                                    }).show();
                                            return;
                                        }

                                        try {
                                            if (itemHasBatch) {
                                                if (!batchList.get(pos).batchNo.equalsIgnoreCase(docDet1.get(detListPos).batch.batchNo)) {
                                                    int allowedQty = batchList.get(pos).avlStock;
                                                    for (int i = 0; i < docDet2.size(); i++) {

                                                        if (docDet2.get(i).batch.batchNo.equalsIgnoreCase(batchList.get(pos).batchNo)) {
                                                            if ((allowedQty - docDet2.get(i).batch.qty) > 0)
                                                                allowedQty -= docDet2.get(i).batch.qty;
                                                        }
                                                    }

                                                    if (parseInteger(txtQty.getText().toString()) > allowedQty) {
                                                        new AlertDialog.Builder(actContext).setTitle("Attention!")
                                                                .setIcon(R.drawable.warning_light).setIcon(R.drawable.warning_light)
                                                                .setMessage("Max allowed qty to pick is " + allowedQty)
                                                                .setPositiveButton("OK", new DialogInterface.OnClickListener() {

                                                                    @Override
                                                                    public void onClick(DialogInterface dialog, int which) {
                                                                        dialog.dismiss();
                                                                    }
                                                                }).show();
                                                        return;
                                                    }
                                                }
                                            }

                                            batchList.get(pos).qty = parseInteger(txtQty.getText().toString());
                                            bAdap.notifyDataSetChanged();
                                            hideKeyboard(txtQty);
                                            qtyDialog.dismiss();
                                            updateSelQtyView(tvPendQty, tvSelQty, docDet1.get(detListPos).pendQty,
                                                    getSelQty(batchList), docDet1.get(detListPos).extraQtyAllowedQty, 6);

                                        } catch (Exception e) {
                                            e.printStackTrace();
                                        }

                                        btnDone.performClick();
                                    }
                                });

                                txtQty.setOnEditorActionListener(new OnEditorActionListener() {
                                    @Override
                                    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
                                        ws.appendLog("qty dialog qty edit text value is changing");
                                        btnOK.performClick();
                                        return false;
                                    }
                                });
                                if (isDummyItem) {
                                    ws.appendLog("Item is dummy.So selecting qty 1 by default.");
                                    btnQtyDone.performClick();
                                }
                            }
